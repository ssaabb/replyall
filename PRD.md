# PRD (Product Requirements Document)
# 모두의 리뷰 (Everyone's Review)

## 1. 제품 개요

### 1.1 제품 비전
모두의 리뷰는 인터넷상의 모든 스트리밍 콘텐츠와 웹페이지에 대해 실시간으로 댓글을 공유할 수 있는 범용 댓글 플랫폼입니다. 사용자들은 YouTube, Netflix, Disney+, 웹툰, 웹소설 등 다양한 온라인 콘텐츠를 소비하면서 동시에 다른 사용자들과 의견을 나누고 소통할 수 있습니다.

### 1.2 목표 사용자
- 스트리밍 콘텐츠(영상, 웹툰, 웹소설 등)를 즐기는 사용자
- 콘텐츠에 대한 의견을 실시간으로 공유하고 싶은 사용자
- 특정 장면이나 부분에 대해 다른 사람들의 반응을 보고 싶은 사용자
- 스포일러 없이 안전하게 콘텐츠를 즐기고 싶은 사용자

### 1.3 핵심 가치 제안
- **범용성**: 모든 웹 콘텐츠에 댓글 기능 제공
- **맥락 기반 댓글**: 콘텐츠의 특정 위치(시간/스크롤)에 연결된 댓글
- **안전한 환경**: 스포일러, 광고, 불건전 댓글 차단 기능
- **실시간 소통**: 같은 콘텐츠를 보는 사용자들과의 즉각적인 상호작용

---

## 2. 핵심 기능 요구사항

### 2.1 콘텐츠 감지 및 URL 기반 댓글 시스템

#### 기능 설명
사용자가 현재 시청/열람 중인 콘텐츠를 자동으로 감지하고, URL을 기반으로 해당 콘텐츠의 댓글 페이지로 연결합니다.

#### 세부 요구사항
- **자동 감지**
  - 브라우저 확장 프로그램 또는 북마클릿을 통한 현재 페이지 URL 감지
  - 활성 탭의 URL 자동 추출
  - URL 정규화 처리 (쿼리 파라미터 정리, 표준화)
  
- **URL 매핑**
  - URL을 고유 식별자로 변환하여 댓글 그룹 생성
  - 동일 콘텐츠의 다양한 URL 형식 통합 (예: youtu.be와 youtube.com/watch)
  - 시리즈물의 경우 에피소드별 구분
  
- **댓글 페이지 접속**
  - 원클릭으로 해당 URL의 댓글 페이지 오픈
  - 사이드바 또는 오버레이 형태로 댓글창 표시
  - 콘텐츠와 댓글을 동시에 볼 수 있는 UI

#### 우선순위
**P0 (필수)**

---

### 2.2 위치 기반 댓글 태깅 시스템

#### 기능 설명
콘텐츠의 특정 위치(영상의 타임스탬프, 웹페이지의 스크롤 위치)에 댓글을 연결하고, 사용자의 현재 위치에 맞는 댓글을 우선적으로 표시합니다.

#### 세부 요구사항
- **영상 콘텐츠 (YouTube, Netflix, Disney+ 등)**
  - 댓글 작성 시 현재 재생 시간 자동 태깅
  - 타임스탬프 형식: `MM:SS` 또는 `HH:MM:SS`
  - 재생 위치에 따라 해당 시간대 댓글 우선 표시
  - ±30초 범위 내 댓글을 "현재 구간" 댓글로 분류
  
- **웹페이지 콘텐츠 (웹툰, 웹소설, 일반 웹페이지)**
  - 댓글 작성 시 현재 스크롤 위치(%) 자동 태깅
  - 페이지 높이 대비 스크롤 비율로 저장
  - 스크롤 위치에 따라 해당 구간 댓글 우선 표시
  - ±10% 범위 내 댓글을 "현재 구간" 댓글로 분류
  
- **다이나믹 댓글 표시**
  - 사용자의 콘텐츠 진행 상황에 따라 실시간으로 댓글 목록 업데이트
  - "현재 구간 댓글" / "전체 댓글" 탭 구분
  - 위치 점프 시 해당 위치 댓글로 자동 이동
  
- **타임스탬프 클릭 기능**
  - 댓글의 타임스탬프 클릭 시 해당 위치로 이동 (가능한 경우)
  - 웹페이지의 경우 해당 스크롤 위치로 이동

#### 우선순위
**P0 (필수)**

---

### 2.3 댓글 필터링 및 차단 시스템

#### 기능 설명
광고성 글, 불건전한 댓글, 스포일러 댓글을 사용자가 선택적으로 차단할 수 있는 기능을 제공합니다.

#### 세부 요구사항
- **스포일러 차단**
  - 댓글 작성 시 "스포일러 포함" 체크박스 제공
  - 스포일러 댓글은 기본적으로 블러 처리 또는 숨김
  - "스포일러 보기" 클릭 시에만 내용 표시
  - 사용자 설정: "스포일러 자동 차단" ON/OFF
  
- **광고성 글 차단**
  - 키워드 기반 자동 필터링 (예: "홍보", "광고", URL 패턴 등)
  - 사용자 신고 기능
  - 일정 신고 수 이상 시 자동 숨김 처리
  - 사용자 설정: "광고성 댓글 자동 숨김" ON/OFF
  
- **불건전 댓글 차단**
  - 욕설, 비속어 필터링
  - 혐오 표현 감지 및 차단
  - 사용자 신고 시스템
  - 사용자 설정: "불건전 댓글 자동 숨김" ON/OFF
  
- **사용자별 차단**
  - 특정 사용자의 모든 댓글 차단 기능
  - 차단 목록 관리
  
- **필터 설정 UI**
  - 설정 페이지에서 필터 강도 조절 (약함/보통/강함)
  - 차단된 댓글 통계 표시
  - 차단 해제 옵션

#### 우선순위
**P0 (필수)**

---

### 2.4 대댓글 (답글) 시스템

#### 기능 설명
댓글에 대한 댓글을 작성할 수 있는 계층형 댓글 구조를 제공합니다.

#### 세부 요구사항
- **대댓글 작성**
  - 각 댓글에 "답글" 버튼 제공
  - 대댓글 작성 시 원댓글 작성자 표시 (예: @username)
  - 최대 깊이: 2단계 (댓글 → 대댓글, 대댓글의 대댓글은 동일 레벨로 처리)
  
- **대댓글 표시**
  - 원댓글 하단에 들여쓰기로 대댓글 표시
  - 대댓글 개수 표시 (예: "답글 5개")
  - 대댓글 접기/펼치기 기능
  
- **알림**
  - 내 댓글에 대댓글이 달릴 경우 알림
  - 내가 참여한 댓글 스레드에 새 답글이 달릴 경우 알림 (선택적)

#### 우선순위
**P0 (필수)**

---

### 2.5 기본 댓글 기능

#### 2.5.1 댓글 작성
- 텍스트 입력 (최대 1000자)
- 이모지 지원
- 멘션 기능 (@username)
- 작성 취소 및 임시 저장
- 익명 작성 옵션 (선택적)

#### 2.5.2 댓글 수정 및 삭제
- 작성자 본인만 수정/삭제 가능
- 수정 시 "수정됨" 표시
- 삭제 시 "삭제된 댓글입니다" 표시 (대댓글이 있는 경우)
- 완전 삭제 옵션 (대댓글이 없는 경우)

#### 2.5.3 댓글 정렬
- 최신순
- 인기순 (좋아요 많은 순)
- 시간순 (타임스탬프 순)
- 관련도순 (현재 위치 기준)

#### 2.5.4 좋아요/싫어요
- 댓글별 좋아요/싫어요 버튼
- 좋아요 수 표시
- 중복 투표 방지

#### 2.5.5 댓글 검색
- 키워드 검색
- 작성자 검색
- 시간대별 검색 (영상의 경우)

#### 2.5.6 댓글 공유
- 특정 댓글 링크 복사
- SNS 공유 기능

#### 우선순위
**P1 (중요)**

---

### 2.6 사용자 계정 및 프로필

#### 기능 설명
사용자 인증 및 프로필 관리 기능을 제공합니다.

#### 세부 요구사항
- **회원가입/로그인**
  - 이메일 기반 회원가입
  - 소셜 로그인 (Google, GitHub 등)
  - 비밀번호 찾기/재설정
  
- **프로필**
  - 닉네임 설정
  - 프로필 이미지
  - 자기소개
  - 내가 쓴 댓글 목록
  - 좋아요한 댓글 목록
  
- **설정**
  - 알림 설정
  - 필터 설정
  - 개인정보 설정
  - 차단 목록 관리

#### 우선순위
**P1 (중요)**

---

### 2.7 알림 시스템

#### 기능 설명
사용자의 활동에 대한 실시간 알림을 제공합니다.

#### 세부 요구사항
- **알림 유형**
  - 내 댓글에 대댓글이 달렸을 때
  - 내 댓글에 좋아요가 달렸을 때
  - 멘션되었을 때
  - 참여 중인 스레드에 새 댓글이 달렸을 때
  
- **알림 방식**
  - 인앱 알림 (벨 아이콘)
  - 브라우저 푸시 알림 (선택적)
  - 이메일 알림 (선택적)
  
- **알림 관리**
  - 알림 목록 조회
  - 읽음/안읽음 표시
  - 알림 삭제
  - 알림 설정 (유형별 ON/OFF)

#### 우선순위
**P2 (선택)**

---

### 2.8 통계 및 분석

#### 기능 설명
콘텐츠 및 댓글에 대한 통계 정보를 제공합니다.

#### 세부 요구사항
- **콘텐츠 통계**
  - 총 댓글 수
  - 활성 사용자 수
  - 인기 구간 (댓글이 많은 타임스탬프/스크롤 위치)
  - 감정 분석 (긍정/부정/중립)
  
- **사용자 통계**
  - 내가 쓴 댓글 수
  - 받은 좋아요 수
  - 활동 기록

#### 우선순위
**P2 (선택)**

---

## 3. 비기능 요구사항

### 3.1 성능
- 댓글 로딩 시간: 1초 이내
- 실시간 댓글 업데이트: 3초 이내
- 동시 접속자 1000명 이상 지원
- 페이지네이션: 한 번에 50개 댓글 로드

### 3.2 보안
- HTTPS 통신
- XSS 공격 방지
- SQL Injection 방지
- 사용자 인증 토큰 암호화
- 개인정보 보호 (GDPR 준수)

### 3.3 사용성
- 직관적인 UI/UX
- 모바일 반응형 디자인
- 다크 모드 지원
- 접근성 (WCAG 2.1 AA 수준)
- 다국어 지원 (한국어, 영어)

### 3.4 확장성
- 마이크로서비스 아키텍처 고려
- 수평적 확장 가능
- 캐싱 전략 (Redis)
- CDN 활용

### 3.5 호환성
- 브라우저: Chrome, Firefox, Safari, Edge (최신 버전)
- 디바이스: 데스크톱, 태블릿, 모바일
- 플랫폼: YouTube, Netflix, Disney+, 웹툰 플랫폼, 일반 웹사이트

---

## 4. 사용자 시나리오

### 시나리오 1: YouTube 영상 시청 중 댓글 작성
1. 사용자가 YouTube에서 영상을 시청 중
2. 브라우저 확장 프로그램 아이콘 클릭
3. "모두의 리뷰" 사이드바가 열리며 현재 영상의 댓글 표시
4. 재미있는 장면(3:25)에서 댓글 작성
5. 댓글이 자동으로 3:25 타임스탬프와 함께 저장됨
6. 다른 사용자들이 3:25 근처를 시청할 때 해당 댓글을 우선적으로 볼 수 있음

### 시나리오 2: 웹툰 감상 중 스포일러 차단
1. 사용자가 웹툰을 읽는 중 (50% 지점)
2. "모두의 리뷰" 오픈
3. 설정에서 "스포일러 자동 차단" 활성화
4. 현재 위치(50%) 이후의 댓글은 자동으로 숨김 처리
5. 안전하게 현재 구간의 댓글만 확인 가능

### 시나리오 3: 댓글 토론 참여
1. 사용자가 Netflix 드라마의 특정 장면에 대한 댓글 발견
2. 해당 댓글에 "답글" 클릭
3. 자신의 의견을 대댓글로 작성
4. 원댓글 작성자가 알림을 받고 다시 답글 작성
5. 여러 사용자가 참여하여 토론 스레드 형성

---

## 5. 성공 지표 (KPI)

### 5.1 사용자 지표
- DAU (Daily Active Users): 월 10% 성장
- MAU (Monthly Active Users): 월 15% 성장
- 사용자 유지율: 30일 기준 40% 이상
- 평균 세션 시간: 10분 이상

### 5.2 참여 지표
- 일일 댓글 작성 수: 사용자당 평균 3개 이상
- 대댓글 비율: 전체 댓글의 30% 이상
- 좋아요 참여율: 댓글 조회 대비 10% 이상

### 5.3 품질 지표
- 신고된 댓글 비율: 전체 댓글의 1% 이하
- 차단된 댓글 비율: 전체 댓글의 5% 이하
- 사용자 만족도: 4.0/5.0 이상

---

## 6. 로드맵

### Phase 1 (MVP - 3개월)
- 기본 댓글 작성/조회 기능
- URL 기반 댓글 그룹핑
- 위치 기반 태깅 (영상 타임스탬프)
- 간단한 필터링 (스포일러 차단)
- 대댓글 기능
- 사용자 인증

### Phase 2 (4-6개월)
- 웹페이지 스크롤 위치 태깅
- 고급 필터링 (광고, 불건전 댓글)
- 알림 시스템
- 모바일 최적화
- 브라우저 확장 프로그램

### Phase 3 (7-12개월)
- 통계 및 분석 대시보드
- AI 기반 콘텐츠 필터링
- 소셜 기능 강화
- 다국어 지원 확대
- API 공개

---

## 7. 제약사항 및 위험요소

### 7.1 기술적 제약
- 브라우저 확장 프로그램의 플랫폼별 제한
- 일부 스트리밍 서비스의 DRM 및 접근 제한
- 실시간 동기화의 서버 부하

### 7.2 법적/정책적 위험
- 저작권 이슈 (콘텐츠 메타데이터 사용)
- 개인정보 보호 규정 준수
- 각 플랫폼의 이용약관 위반 가능성

### 7.3 비즈니스 위험
- 사용자 확보의 어려움 (네트워크 효과 필요)
- 수익 모델 부재
- 경쟁 서비스 출현

---

## 8. 부록

### 8.1 용어 정의
- **콘텐츠**: 스트리밍 영상, 웹툰, 웹소설, 일반 웹페이지 등 인터넷상의 모든 미디어
- **위치 태그**: 영상의 타임스탬프 또는 웹페이지의 스크롤 위치
- **현재 구간**: 사용자가 현재 보고 있는 콘텐츠의 위치 ±일정 범위
- **스포일러**: 아직 보지 않은 내용에 대한 정보를 포함한 댓글

### 8.2 참고 자료
- YouTube 댓글 시스템
- Reddit 댓글 구조
- Disqus 범용 댓글 플랫폼
- Netflix Party (Teleparty) 동시 시청 기능
